Managing Members
================

Inviting Team Members
---------------------

If you have the required permissions, you can add people to your team via a direct invite, a public team invite link, or if they already have an account on the server, you can add them to the team yourself.

You can also `enable guest access <https://docs.mattermost.com/deployment/guest-accounts.html>`_. A guest is a special role that is restricted to only the channels they have been invited to. When this is enabled, you can invite guests or users external to the organization such as vendors or customers.

Sending Direct Invites
~~~~~~~~~~~~~~~~~~~~~~

Direct invites are invitation emails sent from your team's server directly to the invited person's email address. A link within the invitation directs them to an account creation page. Invitation links sent by email expire after 48 hours and can only be used once. A System Admin can invalidate all active invitation links via **System Console > Authentication > Signup > Invalidate pending email invites**.

**To send a direct invite**

1. Click your username at the top of the Navigation Panel.
2. Click **Invite People**.
3. If there is an option to invite members and guests, choose **Invite Members**.
4. In the **Invite People** field enter the email address of the person you want to add.
5. Click **Invite Members**.

**To send an invite to a guest**

1. Click your username at the top of the Navigation Panel.
2. Click **Invite People**.
3. If there is an option to invite members and guests, choose **Invite Guests**.
4. In the **Invite People** field enter the email address of guest you want to add. You can add multiple email addresses to invite more than one guest.
5. Specify the channels the guest will be able to access.
6. [Optional] Add a custom message to be included in the invitation to the guest.
7. Click **Invite Guests**.

.. note::

   If you aren't able to see the **Invite Guests** option, confirm with your System Admin that you have the correct permissions.
   
.. note::
  
   If you don't see the **Send Email Invite** option, confirm with your System Admin that **System Console > Authentication > Signup > Enable Email Invitations**.

Sending Team Invite Links
~~~~~~~~~~~~~~~~~~~~~~~~~

The team invite link is a unique URL that directs people to an account creation page for a team. A team invite link can be used by anyone and does not change unless it is re-generated by a System Admin or Team Admin via **Team Settings > General > Invite Code**. For example, the team invite link can be included in a company-wide email to invite all employees to join a Mattermost team.

**To get a team invite link**

1. Click your username at the top of the Navigation Panel.
2. Click **Invite People**.
3. If there is an option to invite members and guests, choose **Invite Members**.
4. Click the **Copy Link** button to save the URL to your clipboard and share it with those you want to invite to the team.

Adding Someone to Your Team
~~~~~~~~~~~~~~~~~~~~~~~~~~~

If someone you want to add to your team already has an account on the server, you can add them to your team without sending an invitation.

**To add someone to your team**

1. Click your username, at the top of the Navigation Panel.
2. Click **Invite People**.
3. If there is an option to invite members and guests, choose **Invite Members**.
4. In the **Invite People** menu search for the person you want to add. If the people you want to add are not on the list, then they do not have an account on your server.
5. Click **Invite Members**.

**To add existing guests to your team**

1. Click your username, at the top of the Navigation Panel.
2. Click **Invite People**.
3. If there is an option to invite members and guests, choose **Invite Guests**.
4. In the **Invite People** menu search for the guest you want to add. If the people you want to add are not on the list, then they do not have an account on your server.
5. Specify the channels the guest will have access to.
6. Click **Invite Guests**.

.. note:: 
   
   If you aren't able to see the **Invite Guests** option, confirm with your System Admin that you have the correct permissions.

.. note::
  
  System Admins can view and add team membership to individual users on the user profile page (**System Console > Users > User Profile**) by clicking **Add Team**.

About User Roles
----------------

There are six types of user roles with different permission levels in Mattermost: System Admins, Team Admins, Channel Admins, Members, Guests, and Inactive accounts. To view a list of users on the team and what their roles are, Team Admins can go to the three dot **Main Menu** and select **Manage Members**.

System Admin
~~~~~~~~~~~~

The first user added to a newly-installed Mattermost system is assigned the System Admin role.

The System Admin is typically a member of the IT staff and has all the privileges of a Team Admin, along with the following additional privileges:

- Access to the System Console from the main menu in any team site.
- Ability to change any setting on the Mattermost server available in the System Console.
- Ability to promote and demote other users from Member role to System Admin role (and vice versa).
- Ability to promote and demote other users to and from Guest role.
- Ability to deactivate user accounts and to reactivate them.
- Access to private channels, but only if given the link to the private channel.

A System Admin can view and manage users in **System Console > Users**. They can search users by name, filter users by teams, and filter to view other System Admins as well as inactive users.

Team Admin
~~~~~~~~~~

When a team is first created, the person who set it up is made a Team Admin. It is a team-specific role, meaning that someone can be a Team Admin for one team but only a Member on another team. Team Admins have the following privileges:

- Access to the **Team Settings** menu from the team site main menu.
- Ability to change the team name and import data from Slack export files.
- Access to the **Manage Members** menu, where they can control whether team members are a **Member** or a **Team Admin**.

Channel Admin
~~~~~~~~~~~~~

The person who creates a channel is assigned the Channel Admin role for that channel. People with the Channel Admin role have the following privileges:

- Ability to assign the Channel Admin role to other members of the channel.
- Ability to remove the Channel Admin role from other holders of the Channel Admin role.
- Ability to remove members from the channel.

Depending on your system configuration, Channel Admins can be granted special permissions by the System Admin to rename and delete channels.

Member
~~~~~~

This is the default role given to users when they join a team. Members have basic permissions on the Mattermost team.

Guest
~~~~~~~

Guest is a role with restricted permissions, which allow organizations to collaborate with users outside of their organization, and control what channels they are in and who they can collaborate with.

Guests can: 

- Pin messages to channels.
- Use slash commands (with the exception of those used to invite members).
- Favorite channels.
- Mute channels.
- Update their account settings.

Guests cannot:

- Discover public channels.
- Join open teams.
- Create direct messages or group messages with members who arenâ€™t within the same channel.

User With Personal Access Token Permission
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A System Admin can enable `personal access tokens <https://docs.mattermost.com/developer/personal-access-tokens.html>`__ and give permissions for that account to create personal access tokens in **System Console > Users**.

In addition, the System Admin can optionally set the following permissions for the account, useful for integrations and bot accounts:

 - **post:all**: Allows the account to post to all Mattermost channels including direct messages.
 - **post:channels**: Allows the account to post to all Mattermost public channels.

Deactivating Users
~~~~~~~~~~~~~~~~~~

A System Admin can deactivate user accounts via **System Console > Users** for a list of all users on the server. The list can be searched and filtered to make finding users easier. Click the user's role and in the menu that opens, click **Deactivate**.

When **Deactivate** is selected, the user is logged out of the system, and receives an error message if they try to log back in. The user no longer appears in channel member lists, and they are removed from the team members list. A deactivated account can also be reactivated from the System Console, in which case the user rejoins channels and teams that they previously belonged to.

Direct Message channels with deactivated users are hidden in users' sidebars, but can be reopened using the **More...** button or the Channel Switcher (CMD/CTRL + K).

Mattermost is designed as a system-of-record, so there isn't an option to delete users from the Mattermost system, as such an operation could compromise the integrity of message archives.

Note that AD/LDAP user accounts cannot be deactivated from Mattermost; they must be deactivated from your Active Directory.

Removing a User from a Team or Leaving a Team
---------------------------------------------

Remove User from Team
~~~~~~~~~~~~~~~~~~~~~

A Team Admin can remove a user from a team via **Main Menu > Manage Members**, and selecting **Remove From Team** in the dropdown menu beside a user entry.

When a user is removed from a team, the team will no longer show up in their team sidebar. If they currently have the team open, they are redirected to the first team that appears on their team sidebar. If they didn't belong to any other teams, the user is sent to the team selection page.

Removing a user from the team does not deactivate the account. The user will still be able to sign in to the site, and join other teams. They will also be able to rejoin the team they were removed from if they receive another invite, or if the team is set to `"Allow any user with an account on this server to join this team" <https://docs.mattermost.com/help/settings/team-settings.html#allow-anyone-to-join-this-team>`__. If the user does rejoin the team, they will no longer belong to the channels they were previously a part of, and they will lose all Admin privileges if they had them previously.

A System Admin can also remove users from teams via **System Console > Users**, and selecting the dropdown beside a user entry and clicking **Manage Teams**. The list of teams an individual user belongs to can be viewed on the user's profile page via **System Console > Users** and selecting the member's name from the list provided in the **User Configuration** screen.

Leaving a Team
~~~~~~~~~~~~~~

Users can also choose to remove themselves from a team, from **Main Menu > Leave Team**. This will remove the user from the team, and from all public channels and private channels on the team.

They will only be able to rejoin the team if it is set to `"Allow any user with an account on this server to join this team" <https://docs.mattermost.com/help/settings/team-settings.html#allow-anyone-to-join-this-team>`__ team, or if they receive a new invite. If they do rejoin, they will no longer be a part of their old channels.

Obtaining User ID
~~~~~~~~~~~~~~~~~

A unique user ID is sometimes required for configuring certain plugins and other administrative tasks that require identifying specific users. This identifier can be found in both the user list (**System Console > Users**) as well as the individual profile page for each user (**System Console > Users**).

About System Roles (Beta)
-------------------------

System Admins can use the System Console to manage additional System Admin roles and privileges.

- **System Manager:** The System Manager has read/write permissions for management areas of the System Console, such as user management and integrations. This role has read only access to authentication, reporting, and plugins.
- **User Manager:** The User Manager role is able to read/write to all the user management areas. The authentication interface is read only.
- **Viewer:** This role is able to access all pages of the System Console but has no write access to any pages.

When a user is assigned a system role, they have access the System Console. As each role has a different set of default permissions the items that they can view depend on the role they've been assigned.

**System Manager**

  - Read/Write
      - User Management
      - Integrations
  - Read Only
     - Reporting
     - Authentication
     - Plugins

**User Manager**

  - Read/Write
      - User Management 
         - Groups
         - Teams
         - Channels       
  - Read Only
      - Authentication

**Viewer**

  - Read Only
     - All pages within the System Console
     
Assigning System Roles
---------------------

**To grant the System Manager role to a single user called Bob Smith:**

1. Go to **System Console > User Management > System Roles (Beta)** then select the **System Manager** role.

2. Under **Assigned People**, choose **Add People**.

3. Search for and select **Bob Smith**, then select **Add** to grant the System Manager role to that user.

**To grant the User Manager role to two users, Bob Smith and Sue Clark:**

1. Go to **System Console > User Management > System Roles (Beta)** then select the **User Manager** role.

2. Under **Assigned People**, choose **Add People**.

3. Search for and select **Bob Smith** and **Sue Clark**, then select **Add** to grant the User Manager role to those users.

**To grant the Viewer role to two users, Bob Smith and Sue Clark:**

1. Go to **System Console > User Management > System Roles (Beta)** then select the **Viewer** role.

2. Under **Assigned People**, select **Add People**.

3. Search for and select **Bob Smith** and **Sue Clark**, then select **Add** to grant the Viewer role to those users.

**To remove the System Manager role from a single user called Bob Smith:**

1. Go to **System Console > User Management > System Roles (Beta)** then select the **Viewer** role.

2. Under **Assigned People** search for **Bob Smith**, then select **Remove**.

Editing Privileges of System Roles
----------------------------------

Each of the system roles have defined, default privileges as outlined above. 

System Admins can grant read and write access to other areas of the System Console, as well as remove read and write access (including default access), for each role. This is completed using the System Console.

1. Go to **System Console > User Management > System Roles (Beta)** then select the **System Manager**, **User Manager**, or **Viewer** role.

2. For each set of privileges, select the access level as **Can edit**, **Read only**, or **No access**.

**Note:** If you set privilege subsections to different access levels then the privilege access level displays as **Mixed Access**.

**To grant write access to the Authentication section of the System Console for all users with the User Manager role:**

1. Go to **System Console > User Management > System Roles (Beta)** then select the **User Manager** role.

2. Under **Privileges > Authentication** select **Can edit**, then select **Save**.

**To grant read only access to the Authentication section of the System Console for all users with the User Manager role:**

1. Go to **System Console > User Management > System Roles (Beta)** then select the **User Manager** role.

2. Under **Privileges > Authentication** select **Read only**, then select **Save**.

**To remove write access to the Authentication section of the System Console for all users with the User Manager role:**
  
1. Go to **System Console > User Management > System Roles (Beta)** then select the **User Manager** role.

2. Under **Privileges > Authentication** select **No access**, then choose **Save**.
