Deployment Guide
================

Welcome to deployment guidance for Mattermost. This guide is organized into sections based on application types and deployment scenarios to help you achieve a successful deployment of Mattermost across various platforms.

Whether you’re deploying the server application, desktop application, or mobile application, or troubleshooting deployments, this guide has you covered. Use the navigation below to access detailed information about each topic.

.. toctree::
    :maxdepth: 2
    :hidden:
    :titlesonly:

    /deploy/application-architecture.rst
    /deploy/server/server-deployment-planning.rst
    /deploy/desktop/desktop-overview.rst
    /deploy/mobile/mobile-overview.rst
    /guides/deployment-troubleshooting.rst
    /guides/additional-server-installation-guides.rst

* :doc:`Application architecture </deploy/application-architecture>` - An overview of Mattermost's architecture and components.
* :doc:`Server application </deploy/server/server-deployment-planning>` - Pre-deployment checks, security considerations, hardware recommendations, software prerequisites, and step-by-step guidance to deploying Mattermost server.
* :doc:`Desktop application </deploy/desktop/desktop-overview>` - Installation procedures for Mattermost’s desktop applications across Windows, macOS, and Linux, and large-scale, enterprise-wide deployments.
* :doc:`Mobile application </deploy/mobile/mobile-overview>` - How to set up push notifications using Mattermost's notification service and troubleshooting tips.
* :doc:`Deployment troubleshooting </guides/deployment-troubleshooting>` - Best practices for diagnosing and resolving common deployment issues.
* :doc:`Additional server installation guides </guides/additional-server-installation-guides>` - Learn how to deploy Mattermost using Bitnami, AWS Elastic Beanstalk, and other open-source components.

How to use this guide
----------------------

Navigate through the sections using the headings above to find the deployment instructions and troubleshooting steps pertinent to your needs. Each section is designed to provide clear, actionable information to ensure a successful deployment and operation of Mattermost.

If you are new to Mattermost, we recommend starting with the Preparations section under Server Application to understand the prerequisites and get started.

<<<<<<< HEAD
.. note::
=======
The entirety of the Mattermost server is accessible through a RESTful web service API. The API can be completely accessed by developers creating custom applications for Mattermost either directly or via Javascript and Golang drivers.

Authentication client
^^^^^^^^^^^^^^^^^^^^^

Authenticates users by email or username plus password.

Authentication provider
^^^^^^^^^^^^^^^^^^^^^^^^

Enables authentication of Mattermost server to other services with authentication client interface using OAuth2.

Notification service
^^^^^^^^^^^^^^^^^^^^

Sends notifications via SMTP email and mobile push notifications via Mattermost Push Notification Service.

Data management service
^^^^^^^^^^^^^^^^^^^^^^^

Connects to and manages supported databases.

High Availability
^^^^^^^^^^^^^^^^^

.. include:: ../_static/badges/ent-only.rst
  :start-after: :nosearch:

Large organizations needing sophisticated, large scale, High Availability configurations can set up a :doc:`highly available, horizontally scalable </scale/high-availability-cluster-based-deployment>` deployment. Talk to a `Mattermost Expert <https://mattermost.com/contact-sales/>`_ for guidance on configuring and sizing Mattermost to support your specific needs.

Data stores
------------

Databases
^^^^^^^^^^

Mattermost uses a Postgres database to store and retrieve system data and to execute full text search. Solid State Drives (SSDs) can be used for faster read times to increase performance.

See :ref:`Database requirements <install/software-hardware-requirements:database software>` for full details.

Multiple read replicas 
~~~~~~~~~~~~~~~~~~~~~~

.. include:: ../_static/badges/ent-only.rst
  :start-after: :nosearch:

For enterprise deployments, the Mattermost database can be configured with a master and multiple read replicas. The read replicas can be configured as a redundant backup to the active server, so that during hardware failures operation can be diverted to the read replica server without interrupting service. 

The safest configuration is to size the disk space on the read replica used for failover two to three times larger than storage available on master, so that if the master fails because it runs out of disk space it will fail over to a read replica with enough extra space to run smoothly until the master is corrected.

Search replicas
~~~~~~~~~~~~~~~

.. include:: ../_static/badges/ent-only.rst
  :start-after: :nosearch:

You can configure one or more search replicas to isolate search queries. A search replica is similar to a read replica, but is used only for handling search queries.

Global deployments 
~~~~~~~~~~~~~~~~~~

.. include:: ../_static/badges/ent-only.rst
  :start-after: :nosearch:

Enterprise customers with deployments spanning many time zones can talk to a `Mattermost Expert <https://mattermost.com/contact-sales/>`_ for guidance on advanced configurations to minimize latency by:

1. Storing static assets over a global CDN.
2. Deploying multiple Mattermost servers to host API communication closer to the location of end users.
3. Deploying multiple database read replicas closer to the location of end users.

File store
^^^^^^^^^^^

Images and files shared by users are stored and retrieved in one of three options.

1. For teams sharing only modest amounts of file data, local storage on the same physical machine as the Mattermost server may be sufficient.
2. For enterprises sharing very large amounts of data, a Network Attached Storage (NAS) server may be used, which can scale to petabytes if necessary.
3. Alternatively, for both ease-of-use and scale, a third option is to use Amazon's S3 file storage service.

Deployment options
-------------------

Mattermost Enterprise Edition customers can talk to a `Mattermost Expert <https://mattermost.com/contact-sales/>`_ for advice on deployment options for their specific environments. The following section describes common deployment configurations.

Mobile devices with VPN clients (recommended)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Mattermost can be deployed behind your company firewall on a private network with access from the outside via a Virtual Private Network (VPN). This means running a VPN client on the mobile devices and desktop computers that need to access Mattermost.

The :ref:`Mattermost Push Notification Service <deploy/deployment-overview:push notification service>` (MPNS) should be behind your firewall on your private network. MPNS does not connect with mobile apps directly, it forwards push notifications from the Mattermost server to a relay service for the App Store or Google Play, or to mobile apps within an Enterprise App Store.

Mobile devices without VPN clients
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

If Mattermost is available on the internet, we recommend using :doc:`SAML Single Sign-on </onboard/sso-saml>` or enable :doc:`MFA </onboard/multi-factor-authentication>` using Google Authenticator. 

The :ref:`Mattermost Push Notification Service <deploy/deployment-overview:push notification service>` (MPNS) should be behind your firewall inside your private network. MPNS does not connect with mobile apps directly, it forwards push notifications from the Mattermost server to a relay service for App Store or Google Play, or directly to mobile apps within an Enterprise App Store behind your firewall.

For support for certificate-based authentication for mobile devices, talk to a `Mattermost Expert <https://mattermost.com/contact-sales/>`_ for more information.
>>>>>>> master

  If you encounter issues that are not covered in this documentation, please consult the Mattermost community forums, or reach out to Mattermost support for assistance. For advanced customization or integrations, refer to the Open source components section for details about extending Mattermost functionality.

Enjoy deploying Mattermost with confidence!